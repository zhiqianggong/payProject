(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf750"],{6495:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/pay_product_list"}}},[t._v("支付产品")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-card",{staticClass:"box-card reset-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("支付产品")])]),a("p",[a("el-button",{staticClass:"green",attrs:{size:"small",type:"info"},on:{click:t.addType}},[t._v("新增支付产品")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"产品ID","min-width":"170"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品名称","min-width":"150"}}),a("el-table-column",{attrs:{prop:"productType",label:"产品类型","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(1==e.row.productType?"收款":"充值")+" ")]}}])}),a("el-table-column",{attrs:{prop:"payTypeName",label:"支付类型","min-width":"110"}}),a("el-table-column",{attrs:{prop:"agentRate",label:"代理商费率","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:{color:e.row.agentRate?"blue":""}},[t._v(t._s(e.row.agentRate?e.row.agentRate+"%":"未设置"))])]}}])}),a("el-table-column",{attrs:{prop:"mchRate",label:"商户费率","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:{color:e.row.mchRate?"blue":""}},[t._v(t._s(e.row.mchRate?e.row.mchRate+"%":"未设置"))])]}}])}),a("el-table-column",{attrs:{prop:"ifMode",label:"接口模式","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(1==e.row.productType?"单独":"轮询")+" ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{staticClass:"switchStyle",attrs:{"active-text":"启用","inactive-text":"关闭","active-value":1,"inactive-value":0,"active-color":"#1ab394","inactive-color":"#f56c6c",width:60},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"reset-button green",attrs:{size:"warning"},on:{click:function(a){return t.modify(e.row)}}},[t._v("编辑")])]}}])})],1),a("el-pagination",{staticClass:"paginationStyle",attrs:{"current-page":t.currentPage,"page-sizes":[5,10,20,40],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)],1)},o=[],s=(a("eb41"),a("e725"),{data:function(){return{tableData:[],currentPage:1,pagesize:10,mchId:"",pageTotal:null}},methods:{handleSizeChange:function(t){this.pagesize=t,this.getTableData()},handleCurrentChange:function(t){this.currentPage=t,this.getTableData()},getTableData:function(){var t=this;this.loading=!0,this.axios({method:"post",url:"/api/config/pay_product/list",data:{body:{pageIndex:this.currentPage,pageSize:this.pagesize},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(e){t.loading=!1,200==e.data.code?(t.tableData=e.data.body,t.pageTotal=e.data.body.count):t.messageInfo(e)})).catch((function(t){console.log(t)}))},changeSwitch:function(t){var e=this;this.axios({method:"post",url:"/api/config/pay_product/update",data:{body:{status:t.status,id:t.id},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(t){e.messageInfo(t),200==t.data.code&&e.getTableData()})).catch((function(t){console.log(t)}))},addType:function(){this.$router.push("add_pay_product")},modify:function(t){this.$router.push({name:"modify_pay_product",query:{id:t.id}})}},created:function(){this.getTableData()},mounted:function(){var t=this.$refs.table.$refs.bodyWrapper;this.mouseEventFun(t)}}),r=s,l=a("2877"),i=Object(l["a"])(r,n,o,!1,null,null,null);e["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0cf750.18af2962.js.map