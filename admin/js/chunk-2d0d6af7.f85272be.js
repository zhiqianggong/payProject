(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6af7"],{7437:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/remit_list"}}},[t._v("打款记录")]),a("el-breadcrumb-item",[t._v("打款")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("打款")])]),a("el-row",{attrs:{gutter:10}},[a("el-form",{attrs:{model:t.detaliFrom}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"结算订单号","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.id,callback:function(e){t.$set(t.detaliFrom,"id",e)},expression:"detaliFrom.id"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"结算日期","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.settDate,callback:function(e){t.$set(t.detaliFrom,"settDate",e)},expression:"detaliFrom.settDate"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"结算商类型","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.infoType,callback:function(e){t.$set(t.detaliFrom,"infoType",e)},expression:"detaliFrom.infoType"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"结算商ID","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.infoId,callback:function(e){t.$set(t.detaliFrom,"infoId",e)},expression:"detaliFrom.infoId"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"结算类型","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.settType,callback:function(e){t.$set(t.detaliFrom,"settType",e)},expression:"detaliFrom.settType"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"结算金额","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.settAmount,callback:function(e){t.$set(t.detaliFrom,"settAmount",e)},expression:"detaliFrom.settAmount"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"打款金额","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.remitAmount,callback:function(e){t.$set(t.detaliFrom,"remitAmount",e)},expression:"detaliFrom.remitAmount"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"手续费","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.settFee,callback:function(e){t.$set(t.detaliFrom,"settFee",e)},expression:"detaliFrom.settFee"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"账户属性","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.accountAttr,callback:function(e){t.$set(t.detaliFrom,"accountAttr",e)},expression:"detaliFrom.accountAttr"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"账户类型","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.accountType,callback:function(e){t.$set(t.detaliFrom,"accountType",e)},expression:"detaliFrom.accountType"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"开户行名称","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.bankName,callback:function(e){t.$set(t.detaliFrom,"bankName",e)},expression:"detaliFrom.bankName"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"开户网点名称","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.bankNetName,callback:function(e){t.$set(t.detaliFrom,"bankNetName",e)},expression:"detaliFrom.bankNetName"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"账户名","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.accountName,callback:function(e){t.$set(t.detaliFrom,"accountName",e)},expression:"detaliFrom.accountName"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"账户号","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.accountNo,callback:function(e){t.$set(t.detaliFrom,"accountNo",e)},expression:"detaliFrom.accountNo"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"开户行所在省","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.province,callback:function(e){t.$set(t.detaliFrom,"province",e)},expression:"detaliFrom.province"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"开户行所在市","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.city,callback:function(e){t.$set(t.detaliFrom,"city",e)},expression:"detaliFrom.city"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"结算状态","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.settStatus,callback:function(e){t.$set(t.detaliFrom,"settStatus",e)},expression:"detaliFrom.settStatus"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"操作人ID","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.operatorId,callback:function(e){t.$set(t.detaliFrom,"operatorId",e)},expression:"detaliFrom.operatorId"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"备注","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.remark,callback:function(e){t.$set(t.detaliFrom,"remark",e)},expression:"detaliFrom.remark"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"创建时间","label-width":"130px"}},[a("el-input",{attrs:{disabled:""},model:{value:t.detaliFrom.createTime,callback:function(e){t.$set(t.detaliFrom,"createTime",e)},expression:"detaliFrom.createTime"}})],1)],1),a("el-alert",{staticClass:"reset-hint",attrs:{title:"'打款中','打款成功','打款失败'只会修改结算状态, '打款+支付'会修改结算状态且调代付接口打款",type:"success",closable:!1}}),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{staticClass:"reset-select",attrs:{label:"代付通道","label-width":"130px"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getSon},model:{value:t.agentpayPassageId,callback:function(e){t.agentpayPassageId=e},expression:"agentpayPassageId"}},t._l(t.payFather,(function(t){return a("el-option",{key:t.id,attrs:{label:t.passageName,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{staticClass:"reset-select",attrs:{label:"通道子账户","label-width":"130px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.agentpayPassageAccountId,callback:function(e){t.agentpayPassageAccountId=e},expression:"agentpayPassageAccountId"}},t._l(t.payAccountList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.acountName,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"备注","label-width":"130px"}},[a("el-input",{model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit(4)}}},[t._v("打款中")]),a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.submit(5)}}},[t._v("打款成功")]),a("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.pay()}}},[t._v("打款+支付")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.submit(6)}}},[t._v("打款失败")]),a("el-button",{attrs:{plain:""},on:{click:function(e){return t.$router.push("/remit_list")}}},[t._v("返回")])],1)],1)],1)],1)],1)],1)],1)],1)},s=[],o={data:function(){return{audit:"",payAccountList:null,remark:"",remitRemark:"",status:"",agentpayPassageAccountId:"",agentpayPassageId:"",payFather:null,detaliFrom:{accountAttr:"",accountName:"",accountNo:"",accountType:"",bankName:"",bankNetName:"",city:"",createTime:"",id:0,infoId:0,infoType:"",operatorId:0,province:"",remark:"",remitAmount:0,remitRemark:"",settAmount:0,settDate:"",settFee:0,settOrderId:"",settStatus:"",settType:"",transMsg:"",transOrderId:"",updateTime:""}}},methods:{getFatherAccount:function(){var t=this;this.axios({method:"post",url:"/api/config/common/agentpay_passage_all",data:{body:{},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(e){200==e.data.code?t.payFather=e.data.body:t.messageInfo(e)})).catch((function(t){console.log(t)}))},submit:function(t){var e=this;this.axios({method:"post",url:"/api/sett/remit",data:{body:{id:this.$route.query.id,remark:this.remark,status:t},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(t){e.messageInfo(t),200==t.data.code&&(e.remark="",e.getAppDetail())})).catch((function(t){console.log(t)}))},pay:function(){var t=this;""!=this.agentpayPassageId||""!=this.agentpayPassageAccountId?this.axios({method:"post",url:"/api/sett/remit2",data:{body:{id:this.$route.query.id,agentpayPassageAccountId:this.agentpayPassageId,agentpayPassageId:this.agentpayPassageAccountId,remark:this.remark},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(e){t.messageInfo(e),200==e.data.code&&(t.remark="",t.agentpayPassageAccountId="",t.agentpayPassageId="",t.getFatherAccount(),t.getAppDetail())})).catch((function(t){console.log(t)})):this.$message({message:"请选择支付通道",type:"warning"})},getSon:function(t){this.getPayAccount(t)},getPayAccount:function(t){var e=this;this.axios({method:"post",url:"/api/config/common/agentpay_passage_account",data:{body:{agentpayPassageId:t},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(t){200==t.data.code?e.payAccountList=t.data.body:e.messageInfo(t)})).catch((function(t){console.log(t)}))},getAppDetail:function(){var t=this;this.axios({method:"post",url:"/api/agentpay/get",data:{body:{payOrderId:this.$route.query.id},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(e){if(200==e.data.code){var a=e.data.body;1==a.accountType?a.accountType="银行卡转账":2==a.accountType?a.accountType="微信转账":a.accountType="支付宝转账",1==a.accountAttr?a.accountAttr="对私":a.accountAttr="对公",1==a.infoType?a.infoType="代理商":a.infoType="商户",1==a.settType?a.settType="手工结算":a.settType="自动结算",1==a.settStatus?a.settStatus="等待审核":2==a.settStatus?a.settStatus="已审核":3==a.settStatus?a.settStatus="审核不通过":4==a.settStatus?a.settStatus="打款中":5==a.settStatus?a.settStatus="打款成功":a.settStatus="打款失败",t.detaliFrom={accountAttr:a.accountAttr,accountName:a.accountName,accountNo:a.accountNo,accountType:a.accountType,bankName:a.bankName,bankNetName:a.bankNetName,city:a.city,createTime:t.getLocalTime(a.createTime),id:a.id,infoId:a.infoId,infoType:a.infoType,operatorId:a.operatorId,province:a.province,remark:a.remark,remitAmount:a.remitAmount,remitRemark:a.remitRemark,settAmount:a.settAmount,settDate:a.settDate,settFee:a.settFee,settOrderId:a.settOrderId,settStatus:a.settStatus,settType:a.settType,transMsg:a.transMsg,transOrderId:a.transOrderId,updateTime:t.getLocalTime(a.updateTime)}}else t.messageInfo(e)})).catch((function(t){console.log(t)}))}},created:function(){this.getAppDetail(),this.getFatherAccount()}},r=o,i=a("2877"),n=Object(i["a"])(r,l,s,!1,null,null,null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0d6af7.f85272be.js.map