{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./src/pages/dataAnalysis/success_ranking.vue?ccf6","webpack:///src/pages/dataAnalysis/success_ranking.vue","webpack:///./src/pages/dataAnalysis/success_ranking.vue?3c11","webpack:///./src/pages/dataAnalysis/success_ranking.vue","webpack:///./node_modules/core-js/internals/dom-iterables.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","on","handleClick","model","value","callback","$$v","activeName","expression","staticStyle","pickerOptions","data","searchTable","$set","searchAmount","_v","directives","name","rawName","ref","tableData","scopedSlots","_u","key","fn","scope","_s","getLocalTime","row","dateType","currentPage","pagesize","pageTotal","handleSizeChange","handleCurrentChange","staticRenderFns","shortcuts","mchId","myChart","chartTitle","xBox","serverBox","methods","val","getTableData","loading","axios","method","url","body","createTimeEnd","createTimeStart","pageIndex","pageSize","header","token","sessionStorage","userName","sevenDay","hourRate","searchDetail","$router","push","query","audit","eChartsFun","$echarts","init","document","getElementById","title","text","tooltip","trigger","axisPointer","type","xAxis","yAxis","series","setOption","option","tab","dayData","created","mounted","window","addEventListener","that","resize","component","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-55e55c45.7d59712b.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('el-card',{staticClass:\"box-card reset-card\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"按天统计成功率\",\"name\":\"first\"}}),_c('el-tab-pane',{attrs:{\"label\":\"按小时统计成功率\",\"name\":\"second\"}})],1),_c('p',[_c('el-date-picker',{staticStyle:{\"margin\":\"0 5px 5px 0\"},attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd HH-mm-ss\",\"format\":\"yyyy 年 MM 月 dd 日\",\"size\":\"small\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}}),_c('el-input',{staticStyle:{\"width\":\"150px\",\"margin\":\"0 5px 5px 0\"},attrs:{\"size\":\"small\",\"placeholder\":\"商户ID\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.searchTable.mchId),callback:function ($$v) {_vm.$set(_vm.searchTable, \"mchId\", $$v)},expression:\"searchTable.mchId\"}}),_c('el-button',{staticClass:\"green\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":_vm.searchAmount}},[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" 搜索 \")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"dateType\",\"label\":\"日期/时间\",\"min-width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.getLocalTime(scope.row.dateType)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"successCount\",\"label\":\"成功订单数\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"totalCount\",\"label\":\"总订单数\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"successRate\",\"label\":\"订单成功率\",\"min-width\":\"150\"}})],1),_c('el-pagination',{staticClass:\"paginationStyle\",attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[5, 10, 20, 40],\"page-size\":_vm.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"400px\"},attrs:{\"id\":\"main\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-row :gutter=\"10\">\r\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\r\n        <el-card class=\"box-card reset-card\">\r\n          <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n            <el-tab-pane label=\"按天统计成功率\" name=\"first\"></el-tab-pane>\r\n            <el-tab-pane label=\"按小时统计成功率\" name=\"second\"></el-tab-pane>\r\n          </el-tabs>\r\n          <p>\r\n            <el-date-picker\r\n              v-model=\"data\"\r\n              type=\"daterange\"\r\n              align=\"right\"\r\n              style=\"margin: 0 5px 5px 0\"\r\n              unlink-panels\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              value-format=\"yyyy-MM-dd HH-mm-ss\"\r\n              format=\"yyyy 年 MM 月 dd 日\"\r\n              size=\"small\"\r\n              :picker-options=\"pickerOptions\"\r\n            ></el-date-picker>\r\n            <el-input\r\n              size=\"small\"\r\n              style=\"width:150px; margin: 0 5px 5px 0\"\r\n              placeholder=\"商户ID\"\r\n              prefix-icon=\"el-icon-search\"\r\n              v-model=\"searchTable.mchId\"\r\n            ></el-input>\r\n            <el-button\r\n              size=\"small\"\r\n              class=\"green\"\r\n              style=\"margin-left:10px;\"\r\n              type=\"info\"\r\n              @click=\"searchAmount\"\r\n            >\r\n              <i class=\"el-icon-search\"></i> 搜索\r\n            </el-button>\r\n          </p>\r\n          <el-table ref=\"table\" :data=\"tableData\" style=\"width: 100%\" v-loading=\"loading\" border>\r\n            <el-table-column prop=\"dateType\" label=\"日期/时间\" min-width=\"240\">\r\n              <template slot-scope=\"scope\">\r\n                <span>{{getLocalTime(scope.row.dateType)}}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"successCount\" label=\"成功订单数\" min-width=\"120\"></el-table-column>\r\n            <el-table-column prop=\"totalCount\" label=\"总订单数\" min-width=\"120\"></el-table-column>\r\n            <el-table-column prop=\"successRate\" label=\"订单成功率\" min-width=\"150\"></el-table-column>\r\n          </el-table>\r\n          <el-pagination\r\n            class=\"paginationStyle\"\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-sizes=\"[5, 10, 20, 40]\"\r\n            :page-size=\"pagesize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pageTotal\"\r\n          ></el-pagination>\r\n          <div id=\"main\" style=\"width: 100%;height:400px;\"></div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      data: [],\r\n      pickerOptions: {\r\n        shortcuts: [\r\n          {\r\n            text: \"最近一周\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            },\r\n          },\r\n          {\r\n            text: \"最近一个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            },\r\n          },\r\n          {\r\n            text: \"最近三个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      tableData: [],\r\n      currentPage: 1,\r\n      pagesize: 10,\r\n      mchId: \"\",\r\n      pageTotal: null,\r\n      searchTable: {\r\n        mchId: \"\",\r\n      },\r\n      activeName: \"first\",\r\n      myChart: null,\r\n      chartTitle: \"近七日订单成功率\",\r\n      xBox: [],\r\n      serverBox: [],\r\n    };\r\n  },\r\n  methods: {\r\n    handleSizeChange(val) {\r\n      this.pagesize = val;\r\n      this.getTableData();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n      this.getTableData();\r\n    },\r\n    getTableData() {\r\n      this.loading = true;\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/api/data/selectSuccessRate\",\r\n        data: {\r\n          body: {\r\n            createTimeEnd: this.data[1] ? this.data[1] : \"\",\r\n            createTimeStart: this.data[0] ? this.data[0] : \"\",\r\n            mchId: this.searchTable.mchId,\r\n            pageIndex: this.currentPage,\r\n            pageSize: this.pagesize,\r\n          },\r\n          header: {\r\n            token: sessionStorage.token,\r\n            userName: sessionStorage.userName,\r\n          },\r\n        },\r\n      })\r\n        .then((res) => {\r\n          this.loading = false;\r\n          if (res.data.code == 200) {\r\n            this.tableData = res.data.body.successRateList;\r\n            this.pageTotal = res.data.body.count;\r\n          } else {\r\n            this.messageInfo(res);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    sevenDay() {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/api/data/dateRate\",\r\n        data: {\r\n          body: {},\r\n          header: {\r\n            token: sessionStorage.token,\r\n            userName: sessionStorage.userName,\r\n          },\r\n        },\r\n      })\r\n        .then((res) => {\r\n          this.loading = false;\r\n          if (res.data.code == 200) {\r\n            (this.xBox = []), (this.serverBox = []);\r\n            let i = 0;\r\n            res.data.body = res.data.body.sort(function (a, b) {\r\n              console.log(a.day)\r\n              return a.day - b.day ? 1 : -1;\r\n            });\r\n            res.data.body.forEach((item) => {\r\n              i++;\r\n              if (i <= 7) {\r\n                this.xBox.push(item.day);\r\n                this.serverBox.push(\r\n                  item.successRate\r\n                    ? Number(\r\n                        item.successRate.substring(\r\n                          0,\r\n                          item.successRate.length - 1\r\n                        )\r\n                      )\r\n                    : 0\r\n                );\r\n              }\r\n            });\r\n            console.log(this.xBox, this.serverBox);\r\n            this.eChartsFun();\r\n          } else {\r\n            this.messageInfo(res);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    hourRate() {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/api/data/hourRate\",\r\n        data: {\r\n          body: {},\r\n          header: {\r\n            token: sessionStorage.token,\r\n            userName: sessionStorage.userName,\r\n          },\r\n        },\r\n      })\r\n        .then((res) => {\r\n          this.loading = false;\r\n          if (res.data.code == 200) {\r\n            (this.xBox = []), (this.serverBox = []);\r\n            let i = 0;\r\n            res.data.body = res.data.body.sort(function (a, b) {\r\n              console.log(a.time)\r\n              return a.time - b.time ? 1 : -1;\r\n            });\r\n            res.data.body.forEach((item) => {\r\n              i++;\r\n              if (i <= 12) {\r\n                this.xBox.push(item.time);\r\n                this.serverBox.push(\r\n                  item.successRate\r\n                    ? Number(\r\n                        item.successRate.substring(\r\n                          0,\r\n                          item.successRate.length - 1\r\n                        )\r\n                      )\r\n                    : 0\r\n                );\r\n              }\r\n            });\r\n            console.log(this.xBox, this.serverBox);\r\n            this.eChartsFun();\r\n          } else {\r\n            this.messageInfo(res);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    searchAmount() {\r\n      this.currentPage = 1;\r\n      this.getTableData();\r\n    },\r\n    searchDetail(row) {\r\n      this.$router.push({\r\n        name: \"settlement_audit_detail\",\r\n        query: { id: row.id },\r\n      });\r\n    },\r\n    audit(row) {\r\n      this.$router.push({\r\n        name: \"audit\",\r\n        query: { id: row.infoId },\r\n      });\r\n    },\r\n    eChartsFun() {\r\n      this.myChart = this.$echarts.init(document.getElementById(\"main\"));\r\n      // 指定图表的配置项和数据\r\n      let option = {\r\n        title: {\r\n          text: this.chartTitle,\r\n        },\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          axisPointer: {\r\n            // 坐标轴指示器，坐标轴触发有效\r\n            type: \"line\", // 默认为直线，可选为：'line' | 'shadow'\r\n          },\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: this.xBox,\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n        },\r\n        series: [\r\n          {\r\n            name: \"订单成功率(%)\",\r\n            type: \"line\",\r\n            data: this.serverBox,\r\n          },\r\n        ],\r\n      };\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      this.myChart.setOption(option);\r\n    },\r\n    handleClick(tab, event) {\r\n      if (tab.name == \"first\") {\r\n        \r\n    this.sevenDay();\r\n        this.chartTitle = \"近七日订单成功率\";\r\n      } else {\r\n        this.hourRate();\r\n        this.chartTitle = \"近十二小时订单成功率\";\r\n      }\r\n      this.eChartsFun();\r\n    },\r\n    dayData() {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/api/data/selectSuccessRate\",\r\n        data: {\r\n          body: {\r\n            createTimeEnd: this.data[1] ? this.data[1] : \"\",\r\n            createTimeStart: this.data[0] ? this.data[0] : \"\",\r\n            mchId: this.searchTable.mchId,\r\n            pageIndex: this.currentPage,\r\n            pageSize: this.pagesize,\r\n          },\r\n          header: {\r\n            token: sessionStorage.token,\r\n            userName: sessionStorage.userName,\r\n          },\r\n        },\r\n      })\r\n        .then((res) => {\r\n          this.loading = false;\r\n          if (res.data.code == 200) {\r\n            this.tableData = res.data.body.successRateList;\r\n            this.pageTotal = res.data.body.count;\r\n          } else {\r\n            this.messageInfo(res);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    this.getTableData();\r\n    this.sevenDay();\r\n  },\r\n  mounted() {\r\n    let that = this;\r\n    window.addEventListener(\"resize\", () => {\r\n      that.myChart.resize();\r\n    });\r\n    this.eChartsFun();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./success_ranking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./success_ranking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./success_ranking.vue?vue&type=template&id=3dc80e46&\"\nimport script from \"./success_ranking.vue?vue&type=script&lang=js&\"\nexport * from \"./success_ranking.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n"],"sourceRoot":""}