(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf460848"],{3686:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("基本信息")])]),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[o("div",{staticStyle:{"line-height":"20px"}},[0==e.ggStatus?o("span",[e._v("未绑定: 您未绑定谷歌验证")]):o("span",[e._v("已绑定: 您已绑定谷歌验证")]),o("br"),0==e.ggStatus?o("span",{staticStyle:{color:"orangered"}},[e._v("提示:为了您的资金安全,请尽快绑定谷歌验证码!")]):e._e(),o("div",[e._v(" 手机客户端下载地址: "),o("a",{attrs:{href:"http://shouji.baidu.com/software/item?docid=22417419&from=as",target:"_blank"}},[e._v("Android")]),e._v(" / "),o("a",{attrs:{href:"https://itunes.apple.com/cn/app/google-authenticator/id388497605?mt=8",target:"_blank"}},[e._v("IOS")])]),1==e.ggStatus?o("el-form",{attrs:{model:e.form1,"label-width":"140px"}},[o("el-form-item",{attrs:{label:"请输入谷歌验证码"}},[o("el-input",{attrs:{size:"medium"},model:{value:e.form1.googleCode,callback:function(t){e.$set(e.form1,"googleCode",t)},expression:"form1.googleCode"}})],1)],1):e._e()],1)]),o("el-col",{staticStyle:{"text-align":"center"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[0==e.ggStatus?o("el-button",{staticClass:"green",attrs:{type:"primary"},on:{click:e.sonBind}},[e._v("绑定")]):o("el-button",{staticClass:"red",attrs:{type:"danger"},on:{click:e.sendClose}},[e._v("已绑定-解绑")])],1)],1)],1)],1)],1),o("el-dialog",{attrs:{id:"google",title:"管理员谷歌认证绑定",visible:e.googleDialog},on:{"update:visible":function(t){e.googleDialog=t}}},[o("img",{staticStyle:{margin:"0 auto",display:"block"},attrs:{src:"data:image/jpg;base64,"+e.codeUrl,width:"300",height:"300"}}),o("div",{staticStyle:{"margin-bottom":"10px","text-align":"center"}},[e._v("请使用Google身份验证器扫描上方二维码")]),o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"绑定密钥"}},[o("el-input",{attrs:{size:"medium",disabled:""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),o("el-form-item",{attrs:{label:"谷歌验证码"}},[o("el-input",{attrs:{size:"medium"},model:{value:e.form.googleCode,callback:function(t){e.$set(e.form,"googleCode",t)},expression:"form.googleCode"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"green",attrs:{type:"primary"},on:{click:e.sendBind}},[e._v("绑定")])],1)],1)],1)},a=[],l=(o("eb41"),o("e725"),{data:function(){return{dataList:null,googleDialog:!1,codeUrl:"",ggStatus:"",form:{code:"",googleCode:""},form1:{googleCode:""}}},methods:{guge:function(){var e=this;this.axios({method:"post",url:"/api/sys/user/get_gg",data:{body:{},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(t){200==t.data.code?e.ggStatus=t.data.body.ggStatus:e.messageInfo(t)})).catch((function(e){console.log(e)}))},sonBind:function(){var e=this;this.axios({method:"post",url:"/api/sys/user/google_qrcode",data:{body:{},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(t){200==t.data.code?(e.codeUrl=t.data.body.qcodeUrl,e.form.code=t.data.body.keyval,e.googleDialog=!0):e.messageInfo(t)})).catch((function(e){console.log(e)}))},sendClose:function(){var e=this;this.axios({method:"post",url:"/api/sys/user/unbind_gg_auth",data:{body:{code:this.form1.googleCode},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(t){200==t.data.code?(e.messageInfo(t),e.$router.go(0)):e.messageInfo(t)})).catch((function(e){console.log(e)}))},sendBind:function(){var e=this;this.axios({method:"post",url:"/api/sys/user/google_bind",data:{body:{code:this.form.googleCode},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(t){200==t.data.code?(e.messageInfo(t),e.googleDialog=!1,e.$router.go(0)):e.messageInfo(t)})).catch((function(e){console.log(e)}))}},created:function(){this.guge()}}),r=l,i=(o("868f"),o("2877")),n=Object(i["a"])(r,s,a,!1,null,null,null);t["default"]=n.exports},"868f":function(e,t,o){"use strict";var s=o("a69d"),a=o.n(s);a.a},a69d:function(e,t,o){}}]);
//# sourceMappingURL=chunk-cf460848.3815e89c.js.map