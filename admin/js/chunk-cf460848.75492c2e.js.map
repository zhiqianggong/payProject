{"version":3,"sources":["webpack:///./src/pages/currentUserInfo/google_verify.vue?b9ef","webpack:///src/pages/currentUserInfo/google_verify.vue","webpack:///./src/pages/currentUserInfo/google_verify.vue?c498","webpack:///./src/pages/currentUserInfo/google_verify.vue?9920","webpack:///./src/pages/currentUserInfo/google_verify.vue?83c9"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","slot","_v","staticStyle","ggStatus","_e","form1","model","value","callback","$$v","$set","expression","on","sonBind","sendClose","googleDialog","$event","codeUrl","ref","form","sendBind","staticRenderFns","data","dataList","code","googleCode","methods","guge","axios","method","url","body","header","token","sessionStorage","userName","created","component"],"mappings":"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","file":"js/chunk-cf460848.75492c2e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"基本信息\")])]),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('div',{staticStyle:{\"line-height\":\"20px\"}},[(_vm.ggStatus == 0)?_c('span',[_vm._v(\"未绑定: 您未绑定谷歌验证\")]):_c('span',[_vm._v(\"已绑定: 您已绑定谷歌验证\")]),_c('br'),(_vm.ggStatus == 0)?_c('span',{staticStyle:{\"color\":\"orangered\"}},[_vm._v(\"提示:为了您的资金安全,请尽快绑定谷歌验证码!\")]):_vm._e(),_c('div',[_vm._v(\" 手机客户端下载地址: \"),_c('a',{attrs:{\"href\":\"http://shouji.baidu.com/software/item?docid=22417419&from=as\",\"target\":\"_blank\"}},[_vm._v(\"Android\")]),_vm._v(\" / \"),_c('a',{attrs:{\"href\":\"https://itunes.apple.com/cn/app/google-authenticator/id388497605?mt=8\",\"target\":\"_blank\"}},[_vm._v(\"IOS\")])]),(_vm.ggStatus == 1)?_c('el-form',{attrs:{\"model\":_vm.form1,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"请输入谷歌验证码\"}},[_c('el-input',{attrs:{\"size\":\"medium\"},model:{value:(_vm.form1.googleCode),callback:function ($$v) {_vm.$set(_vm.form1, \"googleCode\", $$v)},expression:\"form1.googleCode\"}})],1)],1):_vm._e()],1)]),_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[(_vm.ggStatus == 0)?_c('el-button',{staticClass:\"green\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sonBind}},[_vm._v(\"绑定\")]):_c('el-button',{staticClass:\"red\",attrs:{\"type\":\"danger\"},on:{\"click\":_vm.sendClose}},[_vm._v(\"已绑定-解绑\")])],1)],1)],1)],1)],1),_c('el-dialog',{attrs:{\"id\":\"google\",\"title\":\"管理员谷歌认证绑定\",\"visible\":_vm.googleDialog},on:{\"update:visible\":function($event){_vm.googleDialog=$event}}},[_c('img',{staticStyle:{\"margin\":\"0 auto\",\"display\":\"block\"},attrs:{\"src\":'data:image/jpg;base64,'+_vm.codeUrl,\"width\":\"300\",\"height\":\"300\"}}),_c('div',{staticStyle:{\"margin-bottom\":\"10px\",\"text-align\":\"center\"}},[_vm._v(\"请使用Google身份验证器扫描上方二维码\")]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"绑定密钥\"}},[_c('el-input',{attrs:{\"size\":\"medium\",\"disabled\":\"\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"谷歌验证码\"}},[_c('el-input',{attrs:{\"size\":\"medium\"},model:{value:(_vm.form.googleCode),callback:function ($$v) {_vm.$set(_vm.form, \"googleCode\", $$v)},expression:\"form.googleCode\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"green\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sendBind}},[_vm._v(\"绑定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-row :gutter=\"10\">\r\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>基本信息</span>\r\n          </div>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\r\n              <div style=\"line-height: 20px;\">\r\n                <span v-if=\"ggStatus == 0\">未绑定: 您未绑定谷歌验证</span>\r\n                <span v-else>已绑定: 您已绑定谷歌验证</span>\r\n                <br />\r\n                <span style=\"color: orangered;\" v-if=\"ggStatus == 0\">提示:为了您的资金安全,请尽快绑定谷歌验证码!</span>\r\n                <div>\r\n                  手机客户端下载地址:\r\n                  <a\r\n                    href=\"http://shouji.baidu.com/software/item?docid=22417419&amp;from=as\"\r\n                    target=\"_blank\"\r\n                  >Android</a> /\r\n                  <a\r\n                    href=\"https://itunes.apple.com/cn/app/google-authenticator/id388497605?mt=8\"\r\n                    target=\"_blank\"\r\n                  >IOS</a>\r\n                </div>\r\n                <el-form :model=\"form1\" label-width=\"140px\" v-if=\"ggStatus == 1\">\r\n                  <el-form-item label=\"请输入谷歌验证码\">\r\n                    <el-input size=\"medium\" v-model=\"form1.googleCode\"></el-input>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </div>\r\n            </el-col>\r\n\r\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" style=\"text-align: center;\">\r\n              <el-button class=\"green\" type=\"primary\" @click=\"sonBind\" v-if=\"ggStatus == 0\">绑定</el-button>\r\n              <el-button class=\"red\" type=\"danger\" @click=\"sendClose\" v-else>已绑定-解绑</el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 弹窗 -->\r\n    <el-dialog id=\"google\" title=\"管理员谷歌认证绑定\" :visible.sync=\"googleDialog\">\r\n      <img\r\n        style=\"margin: 0 auto;display: block;\"\r\n        :src=\"'data:image/jpg;base64,'+codeUrl\"\r\n        width=\"300\"\r\n        height=\"300\"\r\n      />\r\n      <div style=\"margin-bottom: 10px;text-align: center;\">请使用Google身份验证器扫描上方二维码</div>\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"100px\">\r\n        <el-form-item label=\"绑定密钥\">\r\n          <el-input size=\"medium\" disabled v-model=\"form.code\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"谷歌验证码\">\r\n          <el-input size=\"medium\" v-model=\"form.googleCode\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button class=\"green\" type=\"primary\" @click=\"sendBind\">绑定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport menu from \"@/components/menu\";\r\nimport header from \"@/components/header\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: null,\r\n      googleDialog: false,\r\n      codeUrl: \"\",\r\n      ggStatus: \"\",\r\n      form: {\r\n        code: \"\",\r\n        googleCode: \"\",\r\n      },\r\n      form1: {\r\n        googleCode: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    guge() {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/api/sys/user/get_gg\",\r\n        data: {\r\n          body: {},\r\n          header: {\r\n            token: sessionStorage.token,\r\n            userName: sessionStorage.userName,\r\n          },\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (res.data.code == 200) {\r\n            this.ggStatus = res.data.body.ggStatus;\r\n          } else {\r\n            this.messageInfo(res);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    sonBind() {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/api/sys/user/google_qrcode\",\r\n        data: {\r\n          body: {},\r\n          header: {\r\n            token: sessionStorage.token,\r\n            userName: sessionStorage.userName,\r\n          },\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (res.data.code == 200) {\r\n            this.codeUrl = res.data.body.qcodeUrl;\r\n            this.form.code = res.data.body.keyval;\r\n            this.googleDialog = true;\r\n          } else {\r\n            this.messageInfo(res);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    sendClose() {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/api/sys/user/unbind_gg_auth\",\r\n        data: {\r\n          body: {\r\n            code: this.form1.googleCode,\r\n          },\r\n          header: {\r\n            token: sessionStorage.token,\r\n            userName: sessionStorage.userName,\r\n          },\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (res.data.code == 200) {\r\n            this.messageInfo(res);\r\n            this.$router.go(0);\r\n          } else {\r\n            this.messageInfo(res);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    sendBind() {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/api/sys/user/google_bind\",\r\n        data: {\r\n          body: {\r\n            code: this.form.googleCode,\r\n          },\r\n          header: {\r\n            token: sessionStorage.token,\r\n            userName: sessionStorage.userName,\r\n          },\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (res.data.code == 200) {\r\n            this.messageInfo(res);\r\n            this.googleDialog = false;\r\n            this.$router.go(0);\r\n          } else {\r\n            this.messageInfo(res);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    this.guge();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#google .el-dialog__body {\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n}\r\n\r\n#google .el-dialog__title {\r\n  font-size: 14px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./google_verify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./google_verify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./google_verify.vue?vue&type=template&id=6f5ff5d4&\"\nimport script from \"./google_verify.vue?vue&type=script&lang=js&\"\nexport * from \"./google_verify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./google_verify.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./google_verify.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./google_verify.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}