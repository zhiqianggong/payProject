(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224cc2"],{e254:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/pay_passage_config"}}},[t._v("支付通道列表")]),a("el-breadcrumb-item",[t._v("支付通道账户")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-card",{staticClass:"box-card reset-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("支付通道账户")])]),a("p",[a("el-button",{staticClass:"green",attrs:{size:"small",type:"info"},on:{click:t.searchAmount}},[t._v(" 新增账户 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"账户ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"accountName",label:"账户名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"ifCode",label:"接口代码","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ifName",label:"接口名称","min-width":"150"}}),a("el-table-column",{attrs:{prop:"passageRate",label:"通道费率","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:{color:e.row.passageRate?"blue":""}},[t._v(t._s(e.row.passageRate?e.row.passageRate+"%":"未设置"))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"账户状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{staticClass:"switchStyle",attrs:{"active-text":"启用","inactive-text":"关闭","active-value":1,"inactive-value":0,"active-color":"#1ab394","inactive-color":"#f56c6c",width:60},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{label:"操作","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"reset-button green",attrs:{size:"warning"},on:{click:function(a){return t.riskSet(e.row)}}},[t._v("风控")]),a("el-button",{staticClass:"reset-button green",attrs:{size:"warning"},on:{click:function(a){return t.modify(e.row)}}},[t._v("编辑")])]}}])})],1),a("el-pagination",{staticClass:"paginationStyle",attrs:{"current-page":t.currentPage,"page-sizes":[5,10,20,40],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)],1)},n=[],i=(a("eb41"),a("e725"),{data:function(){return{tableData:[],currentPage:1,pagesize:10,mchId:"",pageTotal:null,searchTable:{appId:""}}},filters:{typeFilter:function(t){return 0==t?"禁用":"启用"}},methods:{handleSizeChange:function(t){this.pagesize=t,this.getTableData()},handleCurrentChange:function(t){this.currentPage=t,this.getTableData()},getTableData:function(){var t=this;this.loading=!0,this.axios({method:"post",url:"/api/config/pay_passage_account/list",data:{body:{payPassageId:this.$route.query.id,pageIndex:this.currentPage,pageSize:this.pagesize},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(e){t.loading=!1,200==e.data.code?(t.tableData=e.data.body.payAccountLists,t.pageTotal=e.data.body.count):t.messageInfo(e)})).catch((function(t){console.log(t)}))},searchAmount:function(){this.$router.push({name:"sub_account_add",query:{id:this.$route.query.id}})},searchDetail:function(t){this.$router.push({name:"appDetail",query:{id:t.appId}})},changeSwitch:function(t){var e=this;this.axios({method:"post",url:"/api/config/pay_passage/update",data:{body:{id:t.id,status:t.status},header:{token:sessionStorage.token,userName:sessionStorage.userName}}}).then((function(t){e.messageInfo(t),200==t.data.code&&e.getTableData()})).catch((function(t){console.log(t)}))},riskSet:function(t){this.$router.push({name:"sub_account_risk",query:{id:t.id,payPassageId:t.payPassageId}})},modify:function(t){this.$router.push({name:"sub_account_modify",query:{id:t.id,payPassageId:t.payPassageId}})}},created:function(){this.getTableData()},mounted:function(){var t=this.$refs.table.$refs.bodyWrapper;this.mouseEventFun(t)}}),o=i,r=a("2877"),l=Object(r["a"])(o,s,n,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d224cc2.15c01c34.js.map